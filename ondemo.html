
<!DOCTYPE html>
<html>
<head>
</head>

<body>

  <div class="wrap">
    <button id="btnCam">카메라</button>
    <button id="btnMic">마이크</button>
    <div id="oaoPlayer">
      <iframe src="https://live-commerce-dev.onthe.live/pins?room=3f031821-2717-442b-a1d5-9a74230308a5&code=322365" id="oaoPlayerIframe" width="100%" height="100%" frameborder="0"></iframe>
    </div>
  </div>


  <script>

    var btnCam = document.getElementById( 'btnCam' ); 
    var btnMic = document.getElementById( 'btnMic' );

    btnCam.addEventListener( 'click', function( e ) {
      var option = {
        "source": "WebPage",
        "vendor": "OnTheLive",
        "type": "Request",
        "command": "EnumerateDevices",
        "transaction": "2"
      };

      sendMsgToChild(option);
    });

    function sendMsgToChild( msg ) {
      oaoPlayerIframe.contentWindow.postMessage( JSON.stringify(msg), '*' );
    }


    window.addEventListener( 'message', receiveMsgFromChild );

    function receiveMsgFromChild( e ) {
      console.log( 'message from oaoPlayer', e.data );
    }

  </script>


</body>
</html>
